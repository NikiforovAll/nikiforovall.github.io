<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<!-- <meta http-equiv="Content-Security-Policy" content="frame-src https://try.dot.net;"> -->
	<title>Using Keycloak in .NET Aspire projects</title>
	
	<meta name="author" content="Oleksii Nikiforov">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="https://nikiforovall.github.io/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://nikiforovall.github.io/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://nikiforovall.github.io/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="https://nikiforovall.github.io/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->
	<link rel="shortcut icon" href="/assets/media/favicon.ico">

	<link rel="alternate" type="application/rss+xml" title="" href="https://nikiforovall.github.io/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/nikiforovAll" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/nikiforovall" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:alexey.nikiforovall@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="https://nikiforovall.github.io/" target="_blank" rel="noopener noreferrer">
				<img src="//www.gravatar.com/avatar/e86fa0938976c38907a302ecb208f011?s=35" class="img-circle">
				N+1 Blog
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="https://nikiforovall.github.io/" target="_blank" rel="noopener noreferrer">Home</a></li>
				<li><a href="https://nikiforovall.github.io/categories.html" target="_blank" rel="noopener noreferrer">Categories</a></li>
				<li><a href="https://nikiforovall.github.io/tags.html" target="_blank" rel="noopener noreferrer">Tags</a></li>
				<li><a href="https://nikiforovall.github.io/about.html" target="_blank" rel="noopener noreferrer">About</a></li>
			</ul>
		</div>
<!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="https://nikiforovall.github.io/" target="_blank" rel="noopener noreferrer"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="https://nikiforovall.github.io/categories.html" target="_blank" rel="noopener noreferrer"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="https://nikiforovall.github.io/tags.html" target="_blank" rel="noopener noreferrer"><i class="fa fa-tags"></i>Tags</a></li>
			<li><a href="https://nikiforovall.github.io/about.html" target="_blank" rel="noopener noreferrer"><i class="fa fa-pencil"></i>About</a></li>
			<li class="divider">
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs" style="">
		<!-- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="https://nikiforovall.github.io/" target="_blank" rel="noopener noreferrer">
		<img src="//www.gravatar.com/avatar/e86fa0938976c38907a302ecb208f011?s=150" class="img-circle">
	</a>
	<h3 class="title">
        <a href="https://nikiforovall.github.io/" target="_blank" rel="noopener noreferrer">N+1 Blog</a>
    </h3>
</header>


<div id="bio" class="text-center">
	Jibber-jabbering about programming and IT.
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/nikiforovAll" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/nikiforovall" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://t.me/nikiforovallblog" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-pencil-square fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:alexey.nikiforovall@gmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://linkedin.com/in/nikiforov-oleksii" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-linkedin fa-lg"></i>
			</a>
		</li>
		
		<li>
			<a class="btn btn-default btn-sm" href="https://nikiforovall.github.io/feed.xml" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<!-- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
	<h1>Using Keycloak in .NET Aspire projects </h1>
</div>
<article>

	<div class="col-sm-10">

		<span class="post-date">
			
			June
			2nd,
			
			2024
		</span>

	
	
	
	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	

	

	
	

	

	
	<div>
		<h5><a href="/dotnet/aspire/2024/06/28/startup-dependencies-aspire.html">Managing Startup Dependencies in .NET Aspire <span class="label label-default">dotnet</span>  <span class="label label-default">aspnetcore</span>  <span class="label label-default">aspire</span> </a></h5>
	</div>
	
	
	

	

	
	

	

	
	<div>
		<h5><a href="/dotnet/aspire/2024/06/18/polyglot-persistance-with-aspire.html">Learn .NET Aspire by example: Polyglot persistence featuring PostgreSQL, Redis, MongoDB, and Elasticsearch <span class="label label-default">dotnet</span>  <span class="label label-default">aspnetcore</span>  <span class="label label-default">aspire</span> </a></h5>
	</div>
	
	
	

	

	
	

	

	
	<div>
		<h5><a href="/dotnet/opentelemetry/2024/06/12/developer-guide-to-xunit-otel.html">A .NET Developer Guide to XUnit Test Instrumentation with OpenTelemetry and Aspire Dashboard <span class="label label-default">dotnet</span>  <span class="label label-default">aspnetcore</span>  <span class="label label-default">aspire</span> </a></h5>
	</div>
	
	
	

	

	
	

	

	
	<div>
		<h5><a href="/dotnet/opentelemetry/2024/06/07/test-instrumentation-with-otel-aspire.html">Automated Tests instrumentation via OpenTelemetry and Aspire Dashboard <span class="label label-default">dotnet</span>  <span class="label label-default">aspnetcore</span>  <span class="label label-default">aspire</span> </a></h5>
	</div>
	
	
	
	

	<div class="article_body" style="margin-top: 30px;">
		<h2 id="tldr">TL;DR</h2>

<p>You can use <a href="https://www.nuget.org/packages/Keycloak.AuthServices.Templates/" target="_blank" rel="noopener noreferrer">Keycloak.AuthServices.Templates</a> to add Keycloak support for .NET Aspire projects. See the docs for more details - <a href="https://nikiforovall.github.io/keycloak-authorization-services-dotnet/devex/aspire.html" target="_blank" rel="noopener noreferrer">Keycloak.AuthServices/Aspire Support</a>.</p>

<p>Source code: <a href="https://github.com/NikiforovAll/keycloak-aspire-starter-template" target="_blank" rel="noopener noreferrer">https://github.com/NikiforovAll/keycloak-aspire-starter-template</a></p>

<ul>
  <li><a href="#tldr">TL;DR</a></li>
  <li>
<a href="#introduction">Introduction</a>
    <ul>
      <li><a href="#scaffold-a-solution">Scaffold a solution</a></li>
      <li><a href="#run-it">Run it</a></li>
    </ul>
  </li>
  <li><a href="#code-explained">Code Explained</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
  <li><a href="#references">References</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>From the official <a href="https://learn.microsoft.com/en-us/dotnet/aspire/get-started/aspire-overview" target="_blank" rel="noopener noreferrer">docs</a>:</p>

<blockquote>
  <p>.NET Aspire is designed to improve the experience of building .NET cloud-native apps. It provides a consistent, opinionated set of tools and patterns that help you build and run distributed apps.</p>
</blockquote>

<p>Personally, Iâ€™m a big fan of Aspire because it enables great developer experience and productivity. I recommend trying it on your own ğŸš€</p>

<p>This article will show you how to get started with Keycloak and Aspire. It is based on <a href="https://www.nuget.org/packages/Keycloak.AuthServices.Templates" target="_blank" rel="noopener noreferrer">Keycloak.AuthServices.Templates</a> template. Templates make it really easy to get started.</p>

<p>ğŸ’¡Here is a basic example of how the integration looks like:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">DistributedApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">keycloak</span> <span class="p">=</span> <span class="n">builder</span>
    <span class="p">.</span><span class="nf">AddKeycloakContainer</span><span class="p">(</span><span class="s">"keycloak"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">WithDataVolume</span><span class="p">();</span>

<span class="kt">var</span> <span class="n">realm</span> <span class="p">=</span> <span class="n">keycloak</span><span class="p">.</span><span class="nf">AddRealm</span><span class="p">(</span><span class="s">"Test"</span><span class="p">);</span>

<span class="n">builder</span><span class="p">.</span><span class="n">AddProject</span><span class="p">&lt;</span><span class="n">Projects</span><span class="p">.</span><span class="n">Api</span><span class="p">&gt;(</span><span class="s">"api"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">WithReference</span><span class="p">(</span><span class="n">realm</span><span class="p">);</span>

<span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">().</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<h3 id="scaffold-a-solution">Scaffold a solution</h3>

<p>Install a templates pack:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¯ dotnet new <span class="nb">install </span>Keycloak.AuthServices.Templates
<span class="c"># The following template packages will be installed:</span>
<span class="c">#    Keycloak.AuthServices.Templates::2.5.0</span>
<span class="c"># Success: Keycloak.AuthServices.Templates::2.5.0 installed the following templates:</span>
<span class="c"># Template Name            Short Name               Language  Tags</span>
<span class="c"># -----------------------  -----------------------  --------  -------------------------------------</span>
<span class="c"># Keycloak Aspire Starter  keycloak-aspire-starter  [C#]      Common/.NET Aspire/Cloud/API/Keycloak</span>
<span class="c"># Keycloak WebApi          keycloak-webapi          [C#]      Common/API/Keycloak</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¯ dotnet new keycloak-aspire-starter <span class="nt">-o</span> <span class="nv">$dev</span>/keycloak-aspire-starter-template
<span class="c"># The template "Keycloak Aspire Starter" was created successfully.</span>
</code></pre></div></div>

<p>Here is what was generated:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¯ tre
<span class="nb">.</span>
â”œâ”€â”€ .gitignore
â”œâ”€â”€ Api
â”‚   â”œâ”€â”€ Api.csproj
â”‚   â”œâ”€â”€ Extensions.OpenApi.cs
â”‚   â”œâ”€â”€ Program.cs
â”‚   â”œâ”€â”€ Properties
â”‚   â”‚   â””â”€â”€ launchSettings.json
â”‚   â”œâ”€â”€ appsettings.Development.json
â”‚   â””â”€â”€ appsettings.json
â”œâ”€â”€ AppHost
â”‚   â”œâ”€â”€ AppHost.csproj
â”‚   â”œâ”€â”€ KeycloakConfiguration
â”‚   â”‚   â”œâ”€â”€ Test-realm.json
â”‚   â”‚   â””â”€â”€ Test-users-0.json
â”‚   â”œâ”€â”€ Program.cs
â”‚   â”œâ”€â”€ Properties
â”‚   â”‚   â””â”€â”€ launchSettings.json
â”‚   â”œâ”€â”€ appsettings.Development.json
â”‚   â””â”€â”€ appsettings.json
â”œâ”€â”€ Directory.Build.props
â”œâ”€â”€ Directory.Packages.props
â”œâ”€â”€ README.md
â”œâ”€â”€ ServiceDefaults
â”‚   â”œâ”€â”€ Extensions.cs
â”‚   â””â”€â”€ ServiceDefaults.csproj
â”œâ”€â”€ global.json
â””â”€â”€ keycloak-aspire-starter-template.sln
</code></pre></div></div>

<h3 id="run-it">Run it</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¯ dotnet run <span class="nt">--project</span> ./AppHost/
<span class="c"># Building...</span>
<span class="c"># info: Aspire.Hosting.DistributedApplication[0]</span>
<span class="c">#       Aspire version: 8.0.1+a6e341ebbf956bbcec0dda304109815fcbae70c9</span>
<span class="c"># info: Aspire.Hosting.DistributedApplication[0]</span>
<span class="c">#       Distributed application starting.</span>
<span class="c"># info: Aspire.Hosting.DistributedApplication[0]</span>
<span class="c">#       Application host directory is: C:\Users\Oleksii_Nikiforov\dev\keycloak-aspire-starter-template\AppHost</span>
<span class="c"># info: Aspire.Hosting.DistributedApplication[0]</span>
<span class="c">#       Now listening on: http://localhost:15056</span>
<span class="c"># info: Aspire.Hosting.DistributedApplication[0]</span>
<span class="c">#       Distributed application started. Press Ctrl+C to shut down.</span>
</code></pre></div></div>

<p>Here are resources from Aspire Dashboard:</p>

<center>
    <img src="/assets/keycloak-aspire/dashboard-resources.png" style="margin: 15px;">
</center>

<p>As you can see, there is a <code class="language-plaintext highlighter-rouge">quay.io/keycloak/keycloak:24.0.3</code> container running. It is available on your local machine: <a href="http://localhost:8080/">http://localhost:8080/</a>. Use <code class="language-plaintext highlighter-rouge">admin:admin</code> credentials.</p>

<p>The template project was generated with exemplary import files. It imports <em>Test</em> realm, adds <em>workspaces-client</em>, and seeds test users:</p>

<center>
    <img src="/assets/keycloak-aspire/test-realm.png" style="margin: 15px;">
</center>

<p>Now, we can open Swagger UI and retrieve an access token. Note, imported realm is configured to support <a href="https://oauth.net/2/grant-types/implicit/" target="_blank" rel="noopener noreferrer">Implicit Flow</a>. We can use it during the development process as demonstrated below.</p>

<center>
    <img src="/assets/keycloak-aspire/auth-swagger-ui.png" width="100%" style="margin: 15px;">
</center>

<p>To invoke the API you can use Swagger UI or other HTTP tool of your choice. Here is an example of how to use <code class="language-plaintext highlighter-rouge">cURL</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> <span class="s1">'GET'</span> <span class="se">\</span>
  <span class="s1">'https://localhost:51492/hello'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'accept: text/plain'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Bearer &lt;AUTH_TOKEN&gt;'</span>

<span class="c"># Hello World!</span>
</code></pre></div></div>

<h2 id="code-explained">Code Explained</h2>

<p>Basically, to setup Keycloak installation with Aspire we need to setup two things:</p>

<ol>
  <li>Add Keycloak Resource to Aspire <code class="language-plaintext highlighter-rouge">AppHost</code>.</li>
  <li>Configure Web API to target Keycloak installation</li>
</ol>

<p>Here is how to add Keycloak as resource to Aspire:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// AppHost/Program.cs</span>
<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">DistributedApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">keycloak</span> <span class="p">=</span> <span class="n">builder</span>
    <span class="p">.</span><span class="nf">AddKeycloakContainer</span><span class="p">(</span><span class="s">"keycloak"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">WithDataVolume</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">WithImport</span><span class="p">(</span><span class="s">"./KeycloakConfiguration/Test-realm.json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">WithImport</span><span class="p">(</span><span class="s">"./KeycloakConfiguration/Test-users-0.json"</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">realm</span> <span class="p">=</span> <span class="n">keycloak</span><span class="p">.</span><span class="nf">AddRealm</span><span class="p">(</span><span class="s">"Test"</span><span class="p">);</span>

<span class="n">builder</span><span class="p">.</span><span class="n">AddProject</span><span class="p">&lt;</span><span class="n">Projects</span><span class="p">.</span><span class="n">Api</span><span class="p">&gt;(</span><span class="s">"api"</span><span class="p">).</span><span class="nf">WithReference</span><span class="p">(</span><span class="n">keycloak</span><span class="p">).</span><span class="nf">WithReference</span><span class="p">(</span><span class="n">realm</span><span class="p">);</span>

<span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">().</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<p>The code above does the following:</p>

<ol>
  <li>Starts a Keycloak Instance</li>
  <li>Imports realm and test users</li>
  <li>Reference to Keycloak adds Keycloak to service discovery</li>
  <li>Reference to Realm adds <em>Keycloak__Realm</em> and <em>Keycloak__AuthServerUrl</em> environment variables.</li>
</ol>

<p>And here is how to configure <code class="language-plaintext highlighter-rouge">Api</code> to integrated with Keycloak and use <em>workspaces-client</em>:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Api/Program.cs</span>
<span class="k">using</span> <span class="nn">Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Keycloak.AuthServices.Authentication</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">WebApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">services</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">configuration</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="n">Configuration</span><span class="p">;</span>

<span class="n">builder</span><span class="p">.</span><span class="nf">AddServiceDefaults</span><span class="p">();</span>
<span class="n">services</span><span class="p">.</span><span class="nf">AddApplicationOpenApi</span><span class="p">(</span><span class="n">configuration</span><span class="p">);</span>

<span class="n">services</span><span class="p">.</span><span class="nf">AddKeycloakWebApiAuthentication</span><span class="p">(</span>
    <span class="n">configuration</span><span class="p">,</span>
    <span class="n">options</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">options</span><span class="p">.</span><span class="n">Audience</span> <span class="p">=</span> <span class="s">"workspaces-client"</span><span class="p">;</span>
        <span class="n">options</span><span class="p">.</span><span class="n">RequireHttpsMetadata</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">);</span>
<span class="n">services</span><span class="p">.</span><span class="nf">AddAuthorization</span><span class="p">();</span>

<span class="kt">var</span> <span class="n">app</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseHttpsRedirection</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseApplicationOpenApi</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">UseAuthentication</span><span class="p">();</span>
<span class="n">app</span><span class="p">.</span><span class="nf">UseAuthorization</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">MapGet</span><span class="p">(</span><span class="s">"/hello"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="s">"Hello World!"</span><span class="p">).</span><span class="nf">RequireAuthorization</span><span class="p">();</span>

<span class="n">app</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>The integration of Keycloak with .NET Aspire projects provides a first class support for building distributed, cloud native systems. By leveraging the <code class="language-plaintext highlighter-rouge">Keycloak.AuthServices.Templates</code> template, developers can easily scaffold a solution and configure their APIs to work with Keycloak.</p>

<hr>

<p>ğŸ™Œ <code class="language-plaintext highlighter-rouge">Keycloak.AuthServices.Templates</code> is under development. Please, feel free to submit PRs. <a href="https://github.com/nikiforovall/keycloak-authorization-services-dotnet" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/contributions-welcome-brightgreen.svg?style=flat" alt="contributionswelcome"></a> ğŸ™Œ</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://github.com/NikiforovAll/keycloak-authorization-services-dotnet" target="_blank" rel="noopener noreferrer">https://github.com/NikiforovAll/keycloak-authorization-services-dotnet</a></li>
  <li><a href="https://nikiforovall.github.io/keycloak-authorization-services-dotnet/devex/aspire.html" target="_blank" rel="noopener noreferrer">https://nikiforovall.github.io/keycloak-authorization-services-dotnet/devex/aspire.html</a></li>
  <li><a href="https://learn.microsoft.com/en-us/dotnet/aspire/" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/en-us/dotnet/aspire/</a></li>
</ul>

	</div>

	

	
	<ul class="tag_box list-unstyled list-inline">
		<li><i class="fa fa-folder-open"></i></li>
		
		
		
		<li><a href="https://nikiforovall.github.io/categories.html#dotnet-ref" target="_blank" rel="noopener noreferrer">
				dotnet <span>(53)</span>
				,
			</a></li>
		
		<li><a href="https://nikiforovall.github.io/categories.html#keycloak-ref" target="_blank" rel="noopener noreferrer">
				keycloak <span>(4)</span>
				
			</a></li>
		
		
	</ul>
	

	
	<ul class="list-inline">
		<li><i class="fa fa-tags"></i></li>
		
		
		
		<li>
			<a href="https://nikiforovall.github.io/tags.html#dotnet-ref" target="_blank" rel="noopener noreferrer">
				dotnet <span>(59)</span>
				,
			</a>
		</li>
		
		<li>
			<a href="https://nikiforovall.github.io/tags.html#aspnetcore-ref" target="_blank" rel="noopener noreferrer">
				aspnetcore <span>(24)</span>
				,
			</a>
		</li>
		
		<li>
			<a href="https://nikiforovall.github.io/tags.html#keycloak-ref" target="_blank" rel="noopener noreferrer">
				keycloak <span>(6)</span>
				,
			</a>
		</li>
		
		<li>
			<a href="https://nikiforovall.github.io/tags.html#aspire-ref" target="_blank" rel="noopener noreferrer">
				aspire <span>(17)</span>
				
			</a>
		</li>
		
		
		
	</ul>
	

	<hr>

	<div>
		<section class="share col-sm-6">
			<h4 class="section-title">Share Post</h4>
			<a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?&amp;via=nikiforovall" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" target="_blank" rel="noopener noreferrer">
				<i class="fa fa-twitter fa-lg"></i>
				Twitter
			</a>
		</section>

		<section class="col-sm-6 author">
			<img src="//www.gravatar.com/avatar/e86fa0938976c38907a302ecb208f011" class="img-rounded author-image">
			<h4 class="section-title author-name">Oleksii Nikiforov</h4>
			<p class="author-bio">Jibber-jabbering about programming and IT.</p>
		</section>
	</div>

	<div class="clearfix"></div>

	<ul class="pager">
		
		<li class="previous"><a href="https://nikiforovall.github.io/dotnet/aws/2024/05/27/aws-claim-check-dotnet.html" title="Claim-Check Pattern with AWS Message Processing Framework for .NET and Aspire" target="_blank" rel="noopener noreferrer">â†
				Previous</a></li>
		
		
		<li class="next">
<a href="https://nikiforovall.github.io/dotnet/opentelemetry/2024/06/07/test-instrumentation-with-otel-aspire.html" title="Automated Tests instrumentation via OpenTelemetry and Aspire Dashboard" target="_blank" rel="noopener noreferrer">Next â†’</a>
		</li>
		
	</ul>

	<hr>
	</div>

	<div class="col-sm-2 sidebar-2">

	</div>

</article>
<div class="clearfix"></div>



    
    <script src="https://utteranc.es/client.js" repo="NikiforovAll/nikiforovall.github.io" issue-term="pathname" label="Blog" theme="preferred-color-scheme" crossorigin="anonymous" async>
    </script>





		<footer>
			<hr>
			<p>
				Â© 2025 Oleksii Nikiforov with <a href="http://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>. Theme: <a href="https://github.com/dbtek/dbyll" target="_blank" rel="noopener noreferrer">dbyll</a> by dbtek.
			</p>
		</footer>
	</div>

	<script type="text/javascript" src="https://nikiforovall.github.io/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="https://nikiforovall.github.io/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://nikiforovall.github.io/assets/js/app.js"></script>
	
		<script type="text/javascript" src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js">
</script>
<script>
$(document).ready(function() {
    mermaid.initialize({
        theme: 'forest'
    });
});
</script>

	
</body>
</html>



<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-164555539-1', 'auto');
  ga('send', 'pageview');
</script>

